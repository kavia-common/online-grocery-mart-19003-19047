{"is_source_file": true, "format": "JavaScript", "description": "This file contains Mongoose-like model functions for handling discount data in a database, including CRUD operations and application recording.", "external_files": ["../db"], "external_methods": ["require('uuid').v4"], "published": ["listAll", "getById", "getByCode", "create", "update", "remove", "recordApplication"], "classes": [], "methods": [{"name": "mapRow", "description": "Transforms raw database row into a formatted discount object."}, {"name": "listAll", "description": "Retrieves all discounts ordered by creation date."}, {"name": "getById", "description": "Retrieves a discount by its unique identifier."}, {"name": "getByCode", "description": "Retrieves a discount by its code."}, {"name": "create", "description": "Creates a new discount record in the database."}, {"name": "update", "description": "Updates an existing discount record identified by ID."}, {"name": "remove", "description": "Deletes a discount record by ID."}, {"name": "recordApplication", "description": "Records the application of a discount to a cart."}], "calls": ["db.query", "require('uuid').v4"], "search-terms": ["discountModel", "discounts", "recordApplication", "discounts table", "discount CRUD operations"], "state": 2, "file_id": 16, "knowledge_revision": 57, "git_revision": "", "revision_history": [{"34": ""}, {"57": ""}], "ctags": [{"_type": "tag", "name": "Joi", "path": "/home/kavia/workspace/code-generation/online-grocery-mart-19003-19047/DiscountService/src/validation/schemas.js", "pattern": "/^const Joi = require('joi');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "applyDiscountSchema", "path": "/home/kavia/workspace/code-generation/online-grocery-mart-19003-19047/DiscountService/src/validation/schemas.js", "pattern": "/^const applyDiscountSchema = Joi.object({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "discountSchema", "path": "/home/kavia/workspace/code-generation/online-grocery-mart-19003-19047/DiscountService/src/validation/schemas.js", "pattern": "/^  discountSchema,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "discountSchema", "path": "/home/kavia/workspace/code-generation/online-grocery-mart-19003-19047/DiscountService/src/validation/schemas.js", "pattern": "/^const discountSchema = Joi.object({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "discountUpdateSchema", "path": "/home/kavia/workspace/code-generation/online-grocery-mart-19003-19047/DiscountService/src/validation/schemas.js", "pattern": "/^const discountUpdateSchema = Joi.object({$/", "language": "JavaScript", "kind": "constant"}], "hash": "475a084b47217a127a6ea80973ab3759", "format-version": 4, "code-base-name": "DiscountService", "filename": "DiscountService/src/validation/schemas.js", "fields": [{"name": "discountSchema,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}]}